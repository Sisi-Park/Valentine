<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Romantic handwritten font -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

  <title>Will you be my Valentine?</title>

  <style>
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: linear-gradient(135deg, #ffafbd, #ffc3a0);
      font-family: 'Quicksand', sans-serif;
    }

    .card {
      width: min(600px, 92vw);
      background: rgba(255,255,255,0.95);
      border-radius: 28px;
      padding: 36px 26px 28px;
      box-shadow: 0 25px 70px rgba(0,0,0,0.2);
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    h1 {
      margin: 0 0 20px;
      font-family: 'Great Vibes', cursive;
      font-size: 44px;
      color: #ff3e6c;
      font-weight: 400;
    }

    /* Love letter area */
    .letter-wrap{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:18px;
      margin-bottom: 20px;
    }

    /* Bigger, softer envelope */
    .envelope{
      width: 240px;
      height: 170px;
      border: none;
      background: transparent;
      cursor: pointer;
      position: relative;
      padding: 0;
    }

    .env-body{
      position:absolute;
      inset:0;
      background: #fff;
      border-radius: 30px;
      box-shadow: 0 18px 55px rgba(0,0,0,0.18);
    }

    .env-flap{
      position:absolute;
      left:0;
      right:0;
      top:0;
      height:65%;
      background: rgba(255,80,120,0.25);
      border-radius: 30px 30px 40px 40px;
      transform-origin: top center;
      transform: rotateX(0deg);
      transition: transform 600ms ease;
    }

    .env-seal{
      position:absolute;
      left:50%;
      top:55%;
      transform: translate(-50%, -50%);
      font-size: 32px;
      transition: transform 300ms ease;
    }

    .envelope.open .env-flap{
      transform: rotateX(170deg);
    }

    /* Letter */
    .letter{
      width: min(460px, 90vw);
      background: white;
      border-radius: 24px;
      padding: 18px 20px;
      box-shadow: 0 12px 35px rgba(0,0,0,0.15);
      opacity: 0;
      max-height: 0;
      overflow: hidden;
      transition: all 600ms ease;
      font-family: 'Great Vibes', cursive;
      font-size: 26px;
      color: #ff3e6c;
    }

    .letter.show{
      opacity: 1;
      max-height: 260px;
    }

    /* Hearts animation */
    .pop-heart{
      position:absolute;
      left:50%;
      top:40px;
      transform:translateX(-50%);
      animation: pop 1s ease forwards;
    }

    @keyframes pop{
      0% { opacity:0; transform:translate(-50%,0) scale(0.5); }
      20% { opacity:1; }
      100% { opacity:0; transform:translate(calc(-50% + var(--dx)), var(--dy)) scale(1.4); }
    }

    /* Buttons */
    .btns{
      display:flex;
      justify-content:center;
      gap:14px;
      margin-top: 20px;
    }

    button.action{
      border:none;
      border-radius:999px;
      padding:14px 22px;
      font-size:18px;
      cursor:pointer;
      font-family: 'Quicksand', sans-serif;
      transition: transform .2s ease;
    }

    #yes{
      background:#ff4d79;
      color:white;
    }

    #no{
      background:#f2f2f2;
      color:#333;
      position:relative;
    }

  </style>
</head>

<body>
  <div class="card">
    <h1 id="headline">Will you be my Valentine?</h1>

    <div class="letter-wrap">
      <button class="envelope" id="openLetter">
        <div class="env-body"></div>
        <div class="env-flap"></div>
        <div class="env-seal">üíå</div>
      </button>

      <div class="letter" id="letter">
        Nick, thank you for showing me a kind of love I didn't know was possible.<br>
        Will you please be my Valentine? üíñ
      </div>
    </div>

    <div class="btns">
      <button class="action" id="yes">Yes üíò</button>
      <button class="action" id="no">No</button>
    </div>
  </div>

<script>
  const params = new URLSearchParams(location.search);
  const name = params.get("name");
  if(name){
    document.getElementById("headline").textContent =
      name + ", will you be my Valentine?";
  }

  const openBtn = document.getElementById("openLetter");
  const letter = document.getElementById("letter");

  openBtn.addEventListener("click", () => {
    openBtn.classList.add("open");
    letter.classList.add("show");

    const hearts = ["üíñ","üíò","üíï","‚ù§Ô∏è"];
    for(let i=0;i<16;i++){
      const h = document.createElement("div");
      h.className = "pop-heart";
      h.textContent = hearts[Math.floor(Math.random()*hearts.length)];
      h.style.setProperty("--dx",(Math.random()*200-100)+"px");
      h.style.setProperty("--dy",(-Math.random()*180-60)+"px");
      openBtn.appendChild(h);
      setTimeout(()=>h.remove(),1000);
    }
  });

  const noBtn = document.getElementById("no");
  const yesBtn = document.getElementById("yes");
  let count = 0;

  function moveNo(){
    count++;
    yesBtn.style.transform = `scale(${1 + count*0.15})`;
    noBtn.style.transform = `scale(${Math.max(0.3,1 - count*0.12)})`;

    const x = Math.random()*200 - 100;
    const y = Math.random()*100 - 50;
    noBtn.style.position = "relative";
    noBtn.style.left = x+"px";
    noBtn.style.top = y+"px";
  }

  noBtn.addEventListener("mouseenter", moveNo);
  noBtn.addEventListener("touchstart", moveNo);
</script>

</body>
</html>

